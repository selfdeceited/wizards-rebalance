<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Balance App</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  </head>
  <body>
      <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>


      <div class="container" style="margin-top: 10px">
          <div class="card" style="width: 18rem;">
              <div class="card-body">
                <h5 class="card-title">Level &lt;-> XP</h5>
                <div class="form-group">
                    <input type="number" class="form-control my-input" id="level" placeholder="Level" value="1">
                    <input type="text" class="form-control my-input" id="requiredXp" placeholder="XP" disabled="disabled" value="1000">
                  </div>
              </div>
              <div class="card-body">
                <h5 class="card-title">XP increase per complexity</h5>
                <div class="form-group">
                    <input type="number" class="form-control my-input" id="ccompl" placeholder="Level" value="1">
                    <input type="text" class="form-control my-input" id="xpi" placeholder="XP" disabled="disabled" value="1000">
                  </div>
              </div>
            </div>
        </div>
      <!-- Insert this line after script imports -->
<script>if (window.module) module = window.module;</script>
    <script>
      const xpCalc = require('./calculations/levelToXp')

      $(document).ready(function() {
        $("#requiredXp").val(xpCalc.getRequiredXpForLevel(+$("#level").val()));
          $("#level").change(function() {
            var currentLevel = $(this).val();
            var requiredXp = xpCalc.getRequiredXpForLevel(+currentLevel);
            $("#requiredXp").val(requiredXp);
          })

          $("#xpi").val(xpCalc.getBattleWinXpIncrease(+$("#ccompl").val()));
          $("#ccompl").change(function() {
            var currentCompl = $(this).val();
            var requiredCCompl = xpCalc.getBattleWinXpIncrease(+currentCompl);
            $("#xpi").val(requiredCCompl);
          })
      })

      require('./renderer.js')
</script>

  </body>
</html>